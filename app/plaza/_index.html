<section class="app" plaza-main>
  <div class="row main home-page plaza">
    <div class="main-left" main-left></div>
    <div class="main-center">
      <div class="container">
        <div class="plaza-header row">
          <h3 class="plaza-title" translate="TEXT_PLAZA"></h3>
          <a href="/" title="" class="back-lesson" translate="BTN_BACK_TO_LESSON" id="gift_1m"></a>
          <hr />
        </div>
        <section class="plaza-item-section" ng-repeat="(key, value) in plaza.items | groupBy: 'section_order'">
          <div class="plaza-item-section-name"ng-repeat="item in value track by $index"><span ng-if="$index == 0"><span>{{'TEXT_ITEM' | translate}}</span> {{item.section|uppercase}}</span></div>
          <div class="plaza-items">
            <div class="plaza-item" ng-repeat="item in value"
              ng-class="{'special_locked': item.is_locked && item.buy_guide_url,
              'special_unlocked': !item.is_locked && item.buy_guide_url}">
              <div class="plaza-item-image">
                <img ng-src="{{item.icon_url}}" />
              </div>
              <div class="plaza-item-intro">
                <span class="plaza-item-name" ng-bind="item.name"></span>
                <p class="plaza-item-desc" ng-bind="item.info"></p>
                <a class="plaza-item-guide" ng-if="item.buy_guide_url" ng-click="buyGuide(item._id)"><b><u>{{'TEXT_BUY_GUIDE' | translate}}</u></b></a>
              </div>
              <div class="plaza-item-buttons">
                <a title="" class="radius button expand" ng-if="item.can_buy && !item.confirm_before_buy && !item.is_locked" ng-click="buy(item._id)">
                  <span class="price" ng-bind="item.price"></span><span class="memo-coin-badge small"></span>
                </a>
                <a title="" class="radius button expand" ng-if="item.can_buy && item.confirm_before_buy && !item.is_locked" ng-click="confirm(item._id)">
                  <span class="price" ng-bind="item.price"></span><span class="memo-coin-badge small"></span>
                </a>
                <a title="" class="radius button expand locked" ng-if="item.can_buy && item.is_locked">
                  <span class="price" ng-bind="item.price"></span><span class="memo-coin-badge small"></span>
                </a>
                <a title="" class="radius button expand disabled" ng-if="!item.can_buy" tooltip="{{item.message}}" tooltip-placement="top">
                  <span class="price" ng-bind="item.price"></span><span class="memo-coin-badge small"></span>
                </a>
              </div>
            </div>
          </div>
        </section>
        <div class="plaza-get-memo-coin row">
          <section class="get-memo-coin-header" translate="TEXT_MEMO_COIN_INFO"></section>
          <p class="get-memo-coin-desc" translate="TEXT_MEMO_COIN_DESCRIPTION"></p>
          <table class="get-memo-coin-table text-center">
            <tbody>
              <tr>
                <td class="get-memo-coin-table-body-left" translate="TEXT_LEVEL_UP"></td>
                <td class="get-memo-coin-table-body-right" translate="TEXT_LEVEL_UP_DESCRIPTION"> (*)</td>
              </tr>
              <tr>
                <td class="get-memo-coin-table-body-left" translate="TEXT_FINISH_SKILL"></td>
                <td class="get-memo-coin-table-body-right" translate="TEXT_FINISH_SKILL_DESCRIPTION"> (*)</td>
              </tr>
              <tr>
                <td class="get-memo-coin-table-body-left" translate="TEXT_FULL_HEALTH"></td>
                <td class="get-memo-coin-table-body-right" translate="TEXT_FULL_HEALTH_DESCRIPTION"></td>
              </tr>
              <tr>
                <td class="get-memo-coin-table-body-left" translate="TEXT_COMBO_DAY"></td>
                <td class="get-memo-coin-table-body-right" translate="TEXT_COMBO_DAY_DESCRIPTION"></td>
              </tr>
              <tr>
                <td class="get-memo-coin-table-body-left" translate="TEXT_INVITE"></td>
                <td class="get-memo-coin-table-body-right" translate="TEXT_INVITE_DESCRIPTION"> (**)</td>
              </tr>
            </tbody>
          </table>
          <p class="get-memo-coin-note" translate="TEXT_NOTE_TITLE"></p>
          <p class="get-memo-coin-note">(*) <span>{{'TEXT_MEMO_COIN_FIRST_NOTE' | translate}}</span> </p>
          <p class="get-memo-coin-note">(**) <span>{{'TEXT_MEMO_COIN_SECOND_NOTE' | translate}}</span></p>
        </div>
      </div>
    </div>
    <div class="main-right" main-right></div>
  </div>
</section>